# Stock-Analysis é¡¹ç›®ç»“æ„æ¢ç´¢æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

- **é¡¹ç›®åç§°**: stock-analysis (Russ ä¸ªäººäº¤æ˜“ç­–ç•¥ç³»ç»Ÿ)
- **ç‰ˆæœ¬**: v4.0 æ¨¡å—åŒ–é‡æ„ç‰ˆ
- **ç³»ç»ŸçŠ¶æ€**: ç”Ÿäº§å°±ç»ª
- **ä¸»è¦æ¡†æ¶**: æœºæ„çº§å¢å¼ºç‰ˆ - æ•´åˆä»“ä½ç®¡ç†ã€æ”¶ç›Šè¿½è¸ªã€é£é™©åˆ†æå’Œæ™ºèƒ½é¢„è­¦

---

## ğŸ“ russ_trading æ ¸å¿ƒæ¨¡å—ç»“æ„

### 1. **managers/** - ç®¡ç†å™¨æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/managers/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `data_manager.py` | æ•°æ®ç®¡ç† - è´Ÿè´£æ•°æ®åŠ è½½ã€ç¼“å­˜ã€å¤„ç† |
| `risk_manager.py` | âœ… **å·²å­˜åœ¨** - é£é™©ç®¡ç†å™¨,åŒ…å«: æœ€å¤§å›æ’¤ã€æ³¢åŠ¨ç‡ã€VaRã€å¤æ™®æ¯”ç‡ã€è´å¡”ã€ç›¸å…³æ€§åˆ†æã€æ­¢æŸæ£€æŸ¥ç­‰ |
| `dynamic_position_manager.py` | âœ… **å·²å­˜åœ¨** - åŠ¨æ€ä»“ä½ç®¡ç†,æ”¯æŒ: Kellyå…¬å¼ã€æ³¢åŠ¨ç‡ç›®æ ‡ã€å¸‚åœºç¯å¢ƒè¯†åˆ«ã€é£é™©å¹³ä»·ã€åŠ¨æ€å†å¹³è¡¡ |

### 2. **analyzers/** - åˆ†æå™¨æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/analyzers/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `technical_analyzer.py` | æŠ€æœ¯é¢åˆ†æ |
| `market_depth_analyzer.py` | å¸‚åœºæ·±åº¦åˆ†æ |
| `potential_analyzer.py` | æ½œåŠ›åˆ†æ |
| `fund_flow_analyzer.py` | èµ„é‡‘æµåˆ†æ |
| `volume_price_analyzer.py` | æˆäº¤é‡ä»·åˆ†æ |

### 3. **core/** - æ ¸å¿ƒåˆ†ææ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/core/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `stress_tester.py` | âœ… **å·²å­˜åœ¨** - å‹åŠ›æµ‹è¯•,æ¨¡æ‹Ÿå†å²å±æœºåœºæ™¯è¯„ä¼°æŠ—å‹èƒ½åŠ› |
| `quant_analyzer.py` | é‡åŒ–åˆ†æå™¨ |
| `executive_summary.py` | æ‰§è¡Œæ‘˜è¦ç”Ÿæˆ |
| `institutional_metrics.py` | æœºæ„çº§æŒ‡æ ‡ |
| `scenario_analyzer.py` | åœºæ™¯åˆ†æ |
| `performance_metrics.py` | æ€§èƒ½æŒ‡æ ‡ |
| `visualization.py` | å¯è§†åŒ–ç”Ÿæˆ |
| `chart_generator.py` | å›¾è¡¨ç”Ÿæˆ |
| `attribution_analyzer.py` | å½’å› åˆ†æ |
| `investment_advisor.py` | æŠ•èµ„é¡¾é—® |
| `historical_performance.py` | å†å²æ€§èƒ½åˆ†æ |

### 4. **engines/** - å¼•æ“æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/engines/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `backtest_engine_enhanced.py` | âœ… **å·²å­˜åœ¨** - å¢å¼ºå›æµ‹å¼•æ“ |
| `base_swing_optimizer.py` | âœ… **å·²å­˜åœ¨** - æ‘‡æ‘†äº¤æ˜“ä¼˜åŒ–å™¨ |

### 5. **generators/** - æŠ¥å‘Šç”Ÿæˆå™¨æ¨¡å— â­ 
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/generators/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° | è¿è¡Œæ–¹å¼ |
|------|---------|---------|
| `daily_position_report_generator.py` | **æ—¥æŠ¥ç”Ÿæˆå™¨** - æ¯æ—¥æŒä»“è°ƒæ•´å»ºè®®(143KB,æ ¸å¿ƒ) | `python -m russ_trading.generators.daily_position_report_generator` |
| `daily_position_report_generator_v2.py` | æ—¥æŠ¥ç”Ÿæˆå™¨v2ç‰ˆæœ¬ | å¤‡é€‰æ–¹æ¡ˆ |
| `weekly_strategy_generator.py` | **å‘¨æŠ¥ç”Ÿæˆå™¨** - åŸºäºæœ€æ–°æŒä»“å’Œå¸‚åœºæ´å¯Ÿç”Ÿæˆå‘¨åº¦ç­–ç•¥ | `python russ_trading/weekly_strategy_generator.py` |
| `market_insight_generator.py` | **å¸‚åœºæ´å¯ŸæŠ¥å‘Š** - åŸºæœ¬é¢55%+æŠ€æœ¯é¢45%åˆ†ææ¡†æ¶ | æ ¸å¿ƒåˆ†ææ¨¡å— |
| `monthly_plan_generator.py` | **æœˆæŠ¥ç”Ÿæˆå™¨** - æœˆåº¦è®¡åˆ’ç”Ÿæˆ | é«˜çº§åŠŸèƒ½ |
| `enhanced_fund_vp_reporter.py` | å¢å¼ºå‹èµ„é‡‘æˆäº¤é‡ä»·æŠ¥å‘Š | ä¸“é¡¹åˆ†æ |

### 6. **trackers/** - è¿½è¸ªå™¨æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/trackers/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `position_health_checker.py` | æŒä»“å¥åº·åº¦æ£€æŸ¥ |
| `performance_tracker.py` | æ€§èƒ½è¿½è¸ª(34KB) |

### 7. **runners/** - æ‰§è¡Œè„šæœ¬æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/runners/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° | è¿è¡Œæ–¹å¼ |
|------|---------|---------|
| `run_unified_analysis.py` | **ç»Ÿä¸€åˆ†ææ‰§è¡Œå™¨** - ä¸€æ¬¡è¿è¡Œåˆ†ææ‰€æœ‰æ ‡çš„ | `python russ_trading/runners/run_unified_analysis.py` |
| `russ_strategy_runner.py` | Russç­–ç•¥æ‰§è¡Œå™¨ | ç­–ç•¥æ‰§è¡Œ |

### 8. **notifiers/** - é€šçŸ¥æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/notifiers/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `unified_email_notifier.py` | ç»Ÿä¸€é‚®ä»¶é€šçŸ¥å™¨ - å‘é€å„ç±»æŠ¥å‘Š |

### 9. **config/** - é…ç½®æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/config/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `unified_config.py` | âœ… **å·²å­˜åœ¨** - ç»Ÿä¸€èµ„äº§é…ç½®,æ•´åˆæŒ‡æ•°ã€æ¿å—ã€ä¸ªè‚¡é…ç½® |
| `investment_config.py` | æŠ•èµ„é…ç½® |
| `investment_goals.yaml` | æŠ•èµ„ç›®æ ‡é…ç½®æ–‡ä»¶ |
| `market_config.yaml` | å¸‚åœºé…ç½®æ–‡ä»¶ |
| `risk_profiles.yaml` | é£é™©é…ç½®æ–‡ä»¶ |

### 10. **utils/** - å·¥å…·æ¨¡å—
å­˜æ”¾ä½ç½®: `/Users/russ/PycharmProjects/stock-analysis/russ_trading/utils/`

| æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|---------|
| `config_loader.py` | é…ç½®åŠ è½½å™¨ |
| `cache_manager.py` | ç¼“å­˜ç®¡ç†å™¨ |
| `data_cache_manager.py` | æ•°æ®ç¼“å­˜ç®¡ç† |
| `logger.py` | æ—¥å¿—æ¨¡å— |
| `visualizer.py` | å¯è§†åŒ–å·¥å…· |

### 11. **å…¶ä»–æ¨¡å—**
| ç›®å½• | åŠŸèƒ½ |
|-----|------|
| `formatters/` | æ ¼å¼åŒ–å™¨(HTMLè¾“å‡º) |
| `notifiers/` | é€šçŸ¥å™¨(é‚®ä»¶å‘é€) |
| `scripts/` | è„šæœ¬é›†åˆ |
| `tests/` | å•å…ƒæµ‹è¯• |
| `deprecated/` | å·²å¼ƒç”¨ä»£ç  |
| `archive/` | å½’æ¡£ä»£ç  |

---

## âœ… å·²å­˜åœ¨çš„å…³é”®æ¨¡å—æ¸…å•

### å·²å®ç°çš„æ ¸å¿ƒåŠŸèƒ½:
1. âœ… `risk_manager.py` - å®Œæ•´çš„é£é™©ç®¡ç†ç³»ç»Ÿ
2. âœ… `dynamic_position_manager.py` - åŠ¨æ€ä»“ä½ç®¡ç†(Kellyå…¬å¼ç­‰)
3. âœ… `stress_tester.py` - å‹åŠ›æµ‹è¯•å·¥å…·
4. âœ… `backtest_engine_enhanced.py` - å¢å¼ºå›æµ‹å¼•æ“
5. âœ… `base_swing_optimizer.py` - æ‘‡æ‘†äº¤æ˜“ä¼˜åŒ–å™¨
6. âœ… `unified_config.py` - ç»Ÿä¸€èµ„äº§é…ç½®

### æŠ¥å‘Šç”Ÿæˆèƒ½åŠ›:
1. âœ… **æ—¥æŠ¥**: `daily_position_report_generator.py` (æŒä»“è°ƒæ•´å»ºè®®)
2. âœ… **å‘¨æŠ¥**: `weekly_strategy_generator.py` (å‘¨åº¦ç­–ç•¥)
3. âœ… **å¸‚åœºæ´å¯Ÿ**: `market_insight_generator.py` (å¸‚åœºåˆ†æ)
4. âœ… **æœˆæŠ¥**: `monthly_plan_generator.py` (æœˆåº¦è®¡åˆ’)

---

## ğŸš€ æŠ¥å‘Šç”Ÿæˆå…¥å£

### 1. æ—¥æŠ¥ç”Ÿæˆ (Daily Reports)
**è·¯å¾„**: `reports/daily/2025-11/`

**æ–‡ä»¶å‘½åè§„èŒƒ**:
- `æŒä»“è°ƒæ•´å»ºè®®_YYYY-MM-DD.md` - æ—¥åº¦æŒä»“è°ƒæ•´æŠ¥å‘Š
- å…¶ä»–æ—¥æŠ¥

**ç”Ÿæˆæ–¹å¼**:
```bash
# æ–¹å¼1: ç”Ÿæˆä»Šæ—¥æŠ¥å‘Š
python -m russ_trading.generators.daily_position_report_generator --auto-update

# æ–¹å¼2: ç”ŸæˆæŒ‡å®šæ—¥æœŸæŠ¥å‘Š
python -m russ_trading.generators.daily_position_report_generator --date 2025-11-14
```

### 2. å‘¨æŠ¥ç”Ÿæˆ (Weekly Reports)
**è·¯å¾„**: `reports/weekly/2025-11/`

**ç”Ÿæˆæ–¹å¼**:
```bash
python russ_trading/generators/weekly_strategy_generator.py
```

### 3. æœˆæŠ¥ç”Ÿæˆ (Monthly Reports)
**è·¯å¾„**: `reports/monthly/2025-11/`

### 4. ç»Ÿä¸€åˆ†æ (Unified Analysis)
**è·¯å¾„**: `scripts/analysis/`

**ç”Ÿæˆæ–¹å¼**:
```bash
# åˆ†ææ‰€æœ‰æ ‡çš„
python russ_trading/runners/run_unified_analysis.py

# æŒ‡å®šæ ‡çš„åˆ†æ
python russ_trading/runners/run_unified_analysis.py --assets CYBZ HK_BIOTECH

# å‘é€é‚®ä»¶
python russ_trading/runners/run_unified_analysis.py --email
```

---

## ğŸ“Š æ•°æ®æºä¸é…ç½®

### é…ç½®æ–‡ä»¶ä½ç½®
1. **ç»Ÿä¸€èµ„äº§é…ç½®**: `/russ_trading/config/unified_config.py`
   - å®šä¹‰äº†æ‰€æœ‰æ ‡çš„(æŒ‡æ•°ã€æ¿å—ã€ä¸ªè‚¡)
   - æ”¯æŒç»¼åˆåˆ†æå’Œæ¿å—åˆ†æä¸¤ç§ç±»å‹

2. **é‚®ä»¶é…ç½®**: `/config/email_config.yaml`

3. **æŠ•èµ„ç›®æ ‡**: `/russ_trading/config/investment_goals.yaml`

4. **å¸‚åœºé…ç½®**: `/russ_trading/config/market_config.yaml`

5. **é£é™©é…ç½®**: `/russ_trading/config/risk_profiles.yaml`

### æŒä»“æ•°æ®
- **æ ¼å¼**: JSON
- **ä½ç½®**: `data/positions_YYYYMMDD.json`
- **ç¤ºä¾‹**: `data/positions_example.json`

---

## ğŸ¯ ç¼ºå¤±æ¨¡å—æ¸…å•

æ ¹æ®æ¢ç´¢,ä»¥ä¸‹æ¨¡å— **æœªå‘ç°æˆ–æœªå®Œå…¨å®ç°**:

| æ¨¡å— | éœ€æ±‚è¯´æ˜ | ä¼˜å…ˆçº§ |
|-----|---------|-------|
| `sentiment_analyzer.py` | æƒ…ç»ªåˆ†æ(æ–°é—»/èˆ†æƒ…) | ä¸­ |
| `macro_analyzer.py` | å®è§‚ç»æµåˆ†æ | ä¸­ |
| `options_analyzer.py` | æœŸæƒåˆ†æå·¥å…· | ä½ |
| `portfolio_optimizer.py` | æŠ•èµ„ç»„åˆä¼˜åŒ– | é«˜ |
| `alert_manager.py` | æ™ºèƒ½é¢„è­¦ç³»ç»Ÿ | ä¸­ |
| `data_fetcher.py` | ç»Ÿä¸€æ•°æ®è·å– | é«˜ |

---

## ğŸ“ æ–‡æ¡£ä½ç½®

### æ¶æ„æ–‡æ¡£
- **ä¸»æ–‡æ¡£**: `/russ_trading/docs/architecture.md` - ç³»ç»Ÿæ¶æ„è¯´æ˜
- **å¿«é€Ÿå¼€å§‹**: `/russ_trading/docs/QUICK_START.md` - å¿«é€Ÿä½¿ç”¨æŒ‡å—
- **è¿ç§»è®¡åˆ’**: `/russ_trading/docs/MIGRATION_PLAN.md` - ä»£ç è¿ç§»è¯´æ˜
- **é‡æ„æ€»ç»“**: `/russ_trading/docs/REFACTORING_SUMMARY.md` - é‡æ„è¯´æ˜

### è®¾è®¡æ–‡æ¡£
- **æŠ¥å‘Šè®¾è®¡æ–¹æ¡ˆ**: `/russ_trading/docs/ç»Ÿä¸€æŠ¥å‘Šè®¾è®¡æ–¹æ¡ˆ.md`
- **æŠ•èµ„çºªå¾‹æ‰‹å†Œ**: `/russ_trading/docs/æŠ•èµ„çºªå¾‹æ‰‹å†Œ.md`
- **å¢å¼ºç‰ˆæŠ¥å‘Šæ–¹æ¡ˆ**: `/russ_trading/docs/å¢å¼ºç‰ˆæŠ¥å‘Šç”Ÿæˆæ–¹æ¡ˆ.md` (35KB)

---

## ğŸ”„ é¡¹ç›®æµç¨‹æ€»è§ˆ

```
æ•°æ®è¾“å…¥ â†’ å¤šç»´åˆ†æ â†’ é£é™©è¯„ä¼° â†’ ä»“ä½ä¼˜åŒ– â†’ æŠ¥å‘Šç”Ÿæˆ â†’ é‚®ä»¶é€šçŸ¥
   â†“         â†“          â†“         â†“        â†“         â†“
config  analyzers  RiskManager  DPM    generators  notifier
   +
positions
```

**å…³é”®è·¯å¾„**:
1. æŒä»“æ•°æ® â†’ `position_health_checker` â†’ `performance_tracker`
2. å¸‚åœºæ•°æ® â†’ `technical_analyzer` + `market_depth_analyzer` â†’ åˆ†ææŠ¥å‘Š
3. åˆ†æç»“æœ â†’ `daily_position_report_generator` â†’ MarkdownæŠ¥å‘Š â†’ é‚®ä»¶é€šçŸ¥

---

## ğŸ“‚ å®Œæ•´ç›®å½•æ ‘ (ç®€åŒ–ç‰ˆ)

```
russ_trading/
â”œâ”€â”€ analyzers/              # åˆ†æå™¨é›†åˆ
â”‚   â”œâ”€â”€ technical_analyzer.py
â”‚   â”œâ”€â”€ market_depth_analyzer.py
â”‚   â”œâ”€â”€ potential_analyzer.py
â”‚   â”œâ”€â”€ fund_flow_analyzer.py
â”‚   â””â”€â”€ volume_price_analyzer.py
â”œâ”€â”€ core/                   # æ ¸å¿ƒåˆ†ææ¨¡å— (12ä¸ªæ–‡ä»¶)
â”œâ”€â”€ engines/                # å¼•æ“æ¨¡å—
â”‚   â”œâ”€â”€ backtest_engine_enhanced.py
â”‚   â””â”€â”€ base_swing_optimizer.py
â”œâ”€â”€ generators/             # æŠ¥å‘Šç”Ÿæˆå™¨ â­
â”‚   â”œâ”€â”€ daily_position_report_generator.py     [143KB - æ ¸å¿ƒ]
â”‚   â”œâ”€â”€ weekly_strategy_generator.py
â”‚   â”œâ”€â”€ market_insight_generator.py
â”‚   â”œâ”€â”€ monthly_plan_generator.py
â”‚   â””â”€â”€ enhanced_fund_vp_reporter.py
â”œâ”€â”€ managers/               # ç®¡ç†å™¨
â”‚   â”œâ”€â”€ data_manager.py
â”‚   â”œâ”€â”€ risk_manager.py                        [30KB - é£é™©]
â”‚   â””â”€â”€ dynamic_position_manager.py            [21KB - ä»“ä½]
â”œâ”€â”€ trackers/               # è¿½è¸ªå™¨
â”‚   â”œâ”€â”€ position_health_checker.py
â”‚   â””â”€â”€ performance_tracker.py                 [34KB]
â”œâ”€â”€ runners/                # æ‰§è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ run_unified_analysis.py                [61KB - ä¸»æ‰§è¡Œå™¨]
â”‚   â””â”€â”€ russ_strategy_runner.py
â”œâ”€â”€ notifiers/              # é€šçŸ¥å™¨
â”‚   â””â”€â”€ unified_email_notifier.py             [29KB]
â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ unified_config.py                      [11KB - èµ„äº§é…ç½®]
â”‚   â”œâ”€â”€ investment_config.py
â”‚   â”œâ”€â”€ investment_goals.yaml
â”‚   â”œâ”€â”€ market_config.yaml
â”‚   â””â”€â”€ risk_profiles.yaml
â”œâ”€â”€ utils/                  # å·¥å…·æ¨¡å—
â”œâ”€â”€ formatters/             # æ ¼å¼åŒ–å™¨
â”œâ”€â”€ tests/                  # å•å…ƒæµ‹è¯•
â”œâ”€â”€ deprecated/             # å·²å¼ƒç”¨
â””â”€â”€ docs/                   # æ–‡æ¡£ (10+ æ–‡æ¡£)
```

---

## ğŸ“ å¿«é€Ÿå…¥é—¨å‘½ä»¤

```bash
# 1. ç”Ÿæˆä»Šæ—¥æŒä»“è°ƒæ•´æŠ¥å‘Š(æœ€å¸¸ç”¨)
python -m russ_trading.generators.daily_position_report_generator --auto-update

# 2. ç”Ÿæˆå‘¨åº¦ç­–ç•¥
python russ_trading/generators/weekly_strategy_generator.py

# 3. ç»Ÿä¸€åˆ†ææ‰€æœ‰æ ‡çš„
python russ_trading/runners/run_unified_analysis.py --email

# 4. ç”ŸæˆæŒ‡å®šæ—¥æœŸæŠ¥å‘Š
python -m russ_trading.generators.daily_position_report_generator --date 2025-11-14
```

---

## ğŸ’¡ å…³é”®è®¾è®¡ç‰¹ç‚¹

1. **æ¨¡å—åŒ–æ¶æ„**: æ¸…æ™°çš„èŒè´£åˆ†å·¥
2. **é…ç½®é©±åŠ¨**: ç»Ÿä¸€çš„é…ç½®ç®¡ç†(YAML+Python)
3. **æŠ¥å‘Šé©±åŠ¨**: å¤šç»´åº¦æŠ¥å‘Šç”Ÿæˆèƒ½åŠ›
4. **é£é™©ç¬¬ä¸€**: å†…ç½®å®Œæ•´çš„é£é™©ç®¡ç†æ¡†æ¶
5. **æ™ºèƒ½ä¼˜åŒ–**: Kellyå…¬å¼ã€æ³¢åŠ¨ç‡ç›®æ ‡ã€åŠ¨æ€å†å¹³è¡¡
6. **é‚®ä»¶é›†æˆ**: è‡ªåŠ¨åŒ–æŠ¥å‘Šåˆ†å‘

---

**ç”Ÿæˆæ—¶é—´**: 2025-11-14
**æ€»ç»“è€…**: Claude Code
