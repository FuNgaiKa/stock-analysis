# Aè‚¡å¸‚åœºç«çƒ­ç¨‹åº¦åˆ†æå™¨

ä¸€ä¸ªä¸“ä¸šçš„Aè‚¡å¸‚åœºåˆ†æå·¥å…·ï¼Œé›†æˆå¤šæ•°æ®æºæ¶æ„ï¼Œæä¾›å®æ—¶å¸‚åœºç«çƒ­ç¨‹åº¦åˆ†æå’Œæ™ºèƒ½ä»“ä½å»ºè®®ã€‚

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

### ğŸ¥‡ å¤šæ•°æ®æºæ™ºèƒ½æ¶æ„
- **efinance (ä¸œæ–¹è´¢å¯Œ)**ï¼ˆæ¨èï¼‰- å…è´¹å®æ—¶ï¼Œå“åº”é€Ÿåº¦å¿«
- **baostock (è¯åˆ¸å®)**ï¼ˆæ¨èï¼‰- å…è´¹å¼€æºï¼Œå†å²æ•°æ®å®Œæ•´
- **è…¾è®¯è´¢ç»**ï¼ˆå¤‡ç”¨ï¼‰- 0.2ç§’å¿«é€ŸæŒ‡æ•°æ•°æ®
- **akshare** - å…è´¹ç¨³å®šï¼Œå®Œæ•´å¸‚åœºæ•°æ®
- **Ashare**ï¼ˆå¤‡ç”¨ï¼‰- è½»é‡çº§ä»·æ ¼æ•°æ®
- **æ–°æµªè´¢ç»** - ä¼ ç»Ÿç¨³å®šæ¥å£
- **yfinance** - å›½é™…å¸‚åœºæ”¯æŒ
- **è‡ªåŠ¨æ•…éšœåˆ‡æ¢** - ç¡®ä¿æ•°æ®è·å–æˆåŠŸç‡

### ğŸ“Š æ ¸å¿ƒåŠŸèƒ½
- âœ… **å¸‚åœºç«çƒ­ç¨‹åº¦é‡åŒ–åˆ†æ** - ç»¼åˆå¤šç»´æŒ‡æ ‡
- âœ… **æ™ºèƒ½ä»“ä½å»ºè®®** - åŸºäºé£é™©è¯„ä¼°
- âœ… **å®æ—¶æ¶¨è·Œåœç›‘æ§** - 47åªæ¶¨åœ + 33åªè·Œåœ
- âœ… **5434åªè‚¡ç¥¨** å…¨å¸‚åœºè¦†ç›–
- âœ… **ç½‘ç»œé‡è¯•æœºåˆ¶** - 3æ¬¡é‡è¯• + æŒ‡æ•°é€€é¿
- âœ… **æ™ºèƒ½ç¼“å­˜** - 5åˆ†é’Ÿç¼“å­˜æå‡æ€§èƒ½

## ğŸ“ˆ é¡¹ç›®ç»“æ„

```
stock-analysis/
â”œâ”€â”€ stock/                          # æ ¸å¿ƒåˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ stock.py                   # ğŸ¯ ä¸»åˆ†æå™¨ (å‡çº§ç‰ˆ)
â”‚   â”œâ”€â”€ akshare_optimized.py       # ğŸ¥‡ akshareä¼˜åŒ–æ•°æ®æº
â”‚   â”œâ”€â”€ tencent_source.py          # ğŸ¥ˆ è…¾è®¯è´¢ç»æ•°æ®æº
â”‚   â”œâ”€â”€ tushare_source.py          # ğŸ¥‰ tushareä¸“ä¸šæ•°æ®æº
â”‚   â”œâ”€â”€ enhanced_data_sources.py   # å¤šæ•°æ®æºç®¡ç†å™¨
â”‚   â”œâ”€â”€ enhanced_stock_analyzer.py # æŠ€æœ¯åˆ†æå¢å¼ºç‰ˆ
â”‚   â”œâ”€â”€ Ashare.py                  # è½»é‡çº§æ•°æ®æº
â”‚   â””â”€â”€ joinquant.py              # èšå®½æ•°æ®æº
â”œâ”€â”€ compound_interest/             # å¤åˆæ”¶ç›Šè®¡ç®—
â”œâ”€â”€ requirements.txt              # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # macOS/Linux
# venv\Scripts\activate   # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£…TA-Lib (macOS)
brew install ta-lib
```

### 2. ç«‹å³è¿è¡Œ

#### æ–¹å¼1: å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# å¿«é€Ÿåˆ†æï¼ˆè‡ªåŠ¨é€‰æ‹©æœ€ä½³æ•°æ®æºï¼‰
python quick_start.py

# äº¤äº’å¼é€‰æ‹©æ•°æ®æº
python quick_start.py --interactive
```

#### æ–¹å¼2: å®Œæ•´ä¸»ç¨‹åº
```bash
# è¿è¡Œä¸»ç¨‹åºï¼ˆåŒ…å«åˆ†æå’Œå¤åˆæ”¶ç›Šè®¡ç®—ï¼‰
python main.py
```

#### æ–¹å¼3: å‘½ä»¤è¡Œæ¨¡å¼
```bash
# ğŸ¥‡ æ¨èï¼šäº¤äº’å¼é€‰æ‹©æ•°æ®æº
python stock/stock.py --interactive

# ğŸš€ å¤šæ•°æ®æºè‡ªåŠ¨åˆ‡æ¢æ¨¡å¼ (é»˜è®¤)
python stock/stock.py

# ğŸ§ª æ¼”ç¤ºæ¨¡å¼ï¼šæŸ¥çœ‹å®Œæ•´åŠŸèƒ½
python stock/stock.py --test

# ğŸ”§ å•æ•°æ®æºæ¨¡å¼ï¼šä½¿ç”¨åŸç‰ˆakshare
python stock/stock.py --single
```

### 3. è¿è¡Œç»“æœç¤ºä¾‹
```
============================================================
Aè‚¡å¸‚åœºç«çƒ­ç¨‹åº¦åˆ†ææŠ¥å‘Š
åˆ†ææ—¶é—´: 2025-09-29 00:55:48
============================================================
ç»¼åˆç«çƒ­ç¨‹åº¦è¯„åˆ†: 0.185
é£é™©ç­‰çº§: æä½é£é™©
ä»“ä½å»ºè®®: å¯è€ƒè™‘æ»¡ä»“æ“ä½œï¼Œä½†éœ€å…³æ³¨åŸºæœ¬é¢

æŒ‡æ ‡è¯¦æƒ…:
- æˆäº¤é‡æ¯”ç‡: 1.00
- ä»·æ ¼åŠ¨é‡: 0.0000
- å¸‚åœºå¹¿åº¦: 0.0000
- æ³¢åŠ¨ç‡: 0.0200
- æƒ…ç»ªæŒ‡æ ‡: 0.0000

å¸‚åœºæ¦‚å†µ:
- ä¸Šè¯æŒ‡æ•°æ¶¨è·Œå¹…: -0.65%
- æ¶¨åœè‚¡ç¥¨æ•°: 47
- è·Œåœè‚¡ç¥¨æ•°: 33
============================================================
```

## ğŸ› ï¸ æ ¸å¿ƒæŠ€æœ¯

### æ•°æ®æºæ€§èƒ½å¯¹æ¯”
| æ•°æ®æº | å“åº”æ—¶é—´ | æ•°æ®é‡ | ç¨³å®šæ€§ | è´¹ç”¨ | æ¨èåœºæ™¯ |
|--------|----------|--------|--------|------|----------|
| **efinance** | ~1-2s | å®æ—¶+å†å² | â­â­â­â­ | å…è´¹ | å®æ—¶è¡Œæƒ…ç›‘æ§ |
| **baostock** | ~5-10s | å…¨å¸‚åœº | â­â­â­â­ | å…è´¹ | å†å²æ•°æ®å›æµ‹ |
| **è…¾è®¯è´¢ç»** | 0.2s | 3å¤§æŒ‡æ•° | â­â­â­â­â­ | å…è´¹ | å¿«é€ŸæŒ‡æ•°æŸ¥è¯¢ |
| **akshare** | ~30-60s | 5000+è‚¡ç¥¨ | â­â­â­â­â­ | å…è´¹ | å…¨å¸‚åœºåˆ†æ |
| **Ashare** | 0.7s | ä»·æ ¼æ•°æ® | â­â­â­â­ | å…è´¹ | è½»é‡çº§åœºæ™¯ |
| **tushare** | éœ€ç§¯åˆ† | ä¸“ä¸šæ•°æ® | â­â­â­â­â­ | ç§¯åˆ†åˆ¶ | ä¸“ä¸šé‡åŒ– |

### é‡åŒ–æŒ‡æ ‡ä½“ç³»
- **æˆäº¤é‡æ¯”ç‡** (25%) - å¸‚åœºæ´»è·ƒåº¦
- **ä»·æ ¼åŠ¨é‡** (20%) - æŒ‡æ•°æ¶¨è·Œè¶‹åŠ¿
- **å¸‚åœºå¹¿åº¦** (20%) - ä¸ªè‚¡è¡¨ç°åˆ†å¸ƒ
- **æ³¢åŠ¨ç‡** (15%) - å¸‚åœºé£é™©æ°´å¹³
- **æƒ…ç»ªæŒ‡æ ‡** (20%) - æ¶¨è·Œåœæƒ…ç»ª

## ğŸ“‹ æ•°æ®æºé…ç½®

### å…è´¹æ•°æ®æº (æ— éœ€é…ç½®)
- âœ… **baostock (è¯åˆ¸å®)** - å®Œå…¨å…è´¹ï¼Œæ— éœ€æ³¨å†Œï¼Œå†å²æ•°æ®å®Œæ•´
- âœ… **efinance (ä¸œæ–¹è´¢å¯Œ)** - å®Œå…¨å…è´¹ï¼Œå®æ—¶è¡Œæƒ…ï¼Œå“åº”å¿«é€Ÿ
- âœ… **akshare** - å®Œå…¨å…è´¹ï¼Œ5434åªè‚¡ç¥¨æ•°æ®
- âœ… **è…¾è®¯è´¢ç»** - å®æ—¶æŒ‡æ•°ï¼Œå“åº”æå¿«
- âœ… **æ–°æµªè´¢ç»** - ä¼ ç»Ÿç¨³å®šæ¥å£

### å¯é€‰ä¸“ä¸šæ•°æ®æº
```python
# tushare é…ç½® (å¯é€‰)
import tushare as ts
ts.set_token('your_token_here')  # æ³¨å†Œè·å–: https://tushare.pro
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### äº¤äº’å¼é€‰æ‹©æ•°æ®æº
```bash
# è¿è¡Œæ—¶äº¤äº’å¼é€‰æ‹©æ•°æ®æº
python stock/stock.py --interactive
```

è¿è¡Œåä¼šæ˜¾ç¤ºæ•°æ®æºé€‰æ‹©èœå•ï¼š
```
è¯·é€‰æ‹©æ•°æ®æºï¼š
======================================================================

1. efinance (ä¸œæ–¹è´¢å¯Œ)
   å®æ—¶æ•°æ®ï¼Œå“åº”å¿«é€Ÿ (~1-2s)
   æ¨èåœºæ™¯: å®æ—¶ç›‘æ§

2. baostock (è¯åˆ¸å®)
   å†å²æ•°æ®å®Œæ•´ (~5-10s)
   æ¨èåœºæ™¯: å†å²å›æµ‹

3. akshare
   å…¨å¸‚åœºæ•°æ® (~30-60s)
   æ¨èåœºæ™¯: å…¨å¸‚åœºåˆ†æ

4. è…¾è®¯è´¢ç»
   å¿«é€ŸæŒ‡æ•°æŸ¥è¯¢ (~0.2s)
   æ¨èåœºæ™¯: å¿«é€ŸæŸ¥çœ‹

5. å¤šæºè‡ªåŠ¨åˆ‡æ¢
   æ™ºèƒ½é€‰æ‹©æœ€ä½³æ•°æ®æº
   æ¨èåœºæ™¯: æ—¥å¸¸ä½¿ç”¨
```

### åŸºç¡€åˆ†æ
```python
from stock.stock import AStockHeatAnalyzer

# ä½¿ç”¨é»˜è®¤å¤šæ•°æ®æº
analyzer = AStockHeatAnalyzer()
result = analyzer.analyze_market_heat()

# æŒ‡å®šæ•°æ®æº - efinance (å¿«é€Ÿå®æ—¶)
analyzer = AStockHeatAnalyzer(data_source='efinance')
result = analyzer.analyze_market_heat()

# æŒ‡å®šæ•°æ®æº - baostock (å†å²å®Œæ•´)
analyzer = AStockHeatAnalyzer(data_source='baostock')
result = analyzer.analyze_market_heat()

print(f"ç«çƒ­ç¨‹åº¦: {result['heat_score']:.3f}")
print(f"é£é™©ç­‰çº§: {result['risk_level']}")
```

### åœºæ™¯åŒ–ä½¿ç”¨
```python
from stock.data_source_selector import DataSourceSelector

selector = DataSourceSelector()

# å®æ—¶ç›‘æ§åœºæ™¯
source = selector.get_quick_recommendation('realtime')  # è¿”å› 'efinance'
analyzer = AStockHeatAnalyzer(data_source=source)

# å†å²å›æµ‹åœºæ™¯
source = selector.get_quick_recommendation('backtest')  # è¿”å› 'baostock'
analyzer = AStockHeatAnalyzer(data_source=source)

# å…¨å¸‚åœºåˆ†æåœºæ™¯
source = selector.get_quick_recommendation('analysis')  # è¿”å› 'akshare'
analyzer = AStockHeatAnalyzer(data_source=source)
```

### å¤šæ•°æ®æºæµ‹è¯•
```python
from stock.enhanced_data_sources import MultiSourceDataProvider

# æµ‹è¯•æ‰€æœ‰æ•°æ®æº
provider = MultiSourceDataProvider()
data = provider.get_market_data()

# æŸ¥çœ‹æ•°æ®æºä½¿ç”¨æƒ…å†µ
print("æˆåŠŸè·å–æ•°æ®ï¼Œæ¥æºï¼šç¬¬ä¸€ä¼˜å…ˆçº§æ•°æ®æº")
```

### å•ç‹¬æµ‹è¯•æ•°æ®æº
```python
# æµ‹è¯• baostock
from stock.baostock_source import BaostockDataSource
baostock = BaostockDataSource()
data = baostock.get_market_data()

# æµ‹è¯• efinance
from stock.efinance_source import EfinanceDataSource
efinance = EfinanceDataSource()
data = efinance.get_realtime_data()

# æµ‹è¯•è…¾è®¯è´¢ç»
from stock.tencent_source import TencentDataSource
tencent = TencentDataSource()
data = tencent.get_market_summary()
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜æœºåˆ¶
- 5åˆ†é’Ÿæ•°æ®ç¼“å­˜
- å‡å°‘é‡å¤è¯·æ±‚
- æå‡å“åº”é€Ÿåº¦

### ç½‘ç»œä¼˜åŒ–
- 3æ¬¡é‡è¯•æœºåˆ¶
- æŒ‡æ•°é€€é¿å»¶æ—¶
- è¯·æ±‚é—´éš”æ§åˆ¶

### å®¹é”™è®¾è®¡
- å¤šæ•°æ®æºå¤‡ä»½
- è‡ªåŠ¨æ•…éšœåˆ‡æ¢
- ä¼˜é›…é™çº§å¤„ç†

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: TA-Libå®‰è£…å¤±è´¥ï¼Ÿ**
```bash
# macOS
brew install ta-lib
pip install TA-Lib

# Ubuntu
sudo apt-get install libta-lib0-dev
pip install TA-Lib
```

**Q: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Ÿ**
- æ£€æŸ¥ç½‘ç»œç¯å¢ƒ
- ä½¿ç”¨æµ‹è¯•æ¨¡å¼ï¼š`python stock/stock.py --test`
- ç¨‹åºä¼šè‡ªåŠ¨åˆ‡æ¢æ•°æ®æº

**Q: æ•°æ®è·å–æ…¢ï¼Ÿ**
- é¦–æ¬¡è¿è¡Œéœ€è¦49ç§’è·å–å®Œæ•´æ•°æ®
- åç»­ä½¿ç”¨ç¼“å­˜ï¼Œå“åº”æ›´å¿«
- å¯ä½¿ç”¨è…¾è®¯æ•°æ®æºè·å–æŒ‡æ•°ï¼ˆ0.2ç§’ï¼‰

## ğŸ“Š å‡çº§æ—¥å¿—

### v2.0 (2025-09-29) - é‡å¤§å‡çº§
- ğŸ†• **akshareä¼˜åŒ–ç‰ˆ**æˆä¸ºä¸»æ•°æ®æº
- ğŸ†• é›†æˆ**è…¾è®¯è´¢ç»**é«˜é€Ÿæ¥å£
- ğŸ†• **å¤šæ•°æ®æºæ™ºèƒ½åˆ‡æ¢**æ¶æ„
- ğŸ†• **ç½‘ç»œé‡è¯•æœºåˆ¶** + **æ™ºèƒ½ç¼“å­˜**
- ğŸ†• æ”¯æŒ **5434åªè‚¡ç¥¨** + **47åªæ¶¨åœ** æ•°æ®
- ğŸ”§ ä¼˜åŒ–æ€§èƒ½ï¼Œæå‡ç¨³å®šæ€§

### v1.0 - åŸºç¡€ç‰ˆæœ¬
- âœ… åŸºç¡€å¸‚åœºåˆ†æåŠŸèƒ½
- âœ… å•ä¸€akshareæ•°æ®æº
- âœ… ç«çƒ­ç¨‹åº¦é‡åŒ–æ¨¡å‹

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘å»ºè®®
- æ–°å¢æ•°æ®æºè¯·åœ¨ `enhanced_data_sources.py` ä¸­æ‰©å±•
- ä¼˜åŒ–æ€§èƒ½è¯·å…³æ³¨ç¼“å­˜å’Œç½‘ç»œé‡è¯•æœºåˆ¶
- æ·»åŠ æµ‹è¯•ç”¨ä¾‹ç¡®ä¿ç¨³å®šæ€§

## âš–ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **akshare æ–‡æ¡£**: https://akshare.akfamily.xyz/
- **tushare æ–‡æ¡£**: https://tushare.pro/document/2
- **é¡¹ç›®é—®é¢˜**: æ¬¢è¿æäº¤ GitHub Issues

---

**ğŸ¯ è®©æ•°æ®é©±åŠ¨æŠ•èµ„å†³ç­–ï¼** ğŸš€